(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"02b9":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(a("5b05")),o=r(a("d3b7"));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=s(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,u=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return i=t.done,t},e:function(t){u=!0,r=t},f:function(){try{i||null==a.return||a.return()}finally{if(u)throw r}}}}function s(t,e){if(t){if("string"===typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var c={onLaunch:function(){this.autoLogin(),this.getMainData()},onShow:function(){this.getMainData()},onHide:function(){},methods:{httpRequest:function(t){return n.default.httpRequest(t)},apis:function(){return o.default},getAuthData:function(){var e={url:this.apis().getAddress,token:this.globalData.token,method:"GET",body:{default:"all"}};this.httpRequest(e).then((function(e){var a=JSON.parse(e.data).data;if(a.length>0){t.setStorageSync("UserAddress",a);var n,o=!1,r=i(a);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(1==s.is_default){t.setStorageSync("defaultAddress",s),o=!0;break}}}catch(u){r.e(u)}finally{r.f()}o||t.setStorageSync("defaultAddress",a[0])}else t.setStorageSync("defaultAddress",{})}));var a={url:this.apis().getLike,token:this.globalData.token,method:"GET"};this.httpRequest(a).then((function(e){t.setStorageSync("myLike",JSON.parse(e.data).data)}));var n={url:this.apis().getHistory,token:this.globalData.token,method:"GET"};this.httpRequest(n).then((function(e){t.setStorageSync("myHistory",JSON.parse(e.data).data)}));var o={url:this.apis().listOrder,token:this.globalData.token,method:"GET"};this.httpRequest(o).then((function(e){t.setStorageSync("listOrder",JSON.parse(e.data).data)}))},autoLogin:function(){var e=this;t.login({success:function(a){var n=a.code;t.request({url:o.default.wechatLogin,method:"POST",data:{code:n},success:function(a){if(console.log("autoLogin:",a),400==a.data.code){var n={openid:a.data.msg.openid,session_key:a.data.msg.session_key};e.globalData.haslogin=!1,t.setStorageSync("regInfo",n)}else 200==a.data.code?(e.globalData.haslogin=!0,e.globalData=Object.assign(e.globalData,a.data.data),console.log("globaldata:",e.globalData),e.getAuthData(),t.showToast({duration:1e3,title:"登录成功",icon:"success"})):console.log("自动登录模块出错")}})}})},getMainData:function(){var e={url:this.apis().bannerTop,method:"GET"};this.httpRequest(e).then((function(e){t.setStorageSync("bannerTop",JSON.parse(e.data).data)}));var a={url:this.apis().recommendCatalog,method:"GET"};this.httpRequest(a).then((function(e){t.setStorageSync("recommendCatalog",JSON.parse(e.data).data)}));var n={url:this.apis().goodList,method:"GET"};this.httpRequest(n).then((function(e){t.setStorageSync("goodList",JSON.parse(e.data).data)}));var o={url:this.apis().bannerCatalog,method:"GET"};this.httpRequest(o).then((function(e){t.setStorageSync("bannerCatalog",JSON.parse(e.data).data)}));var r={url:this.apis().hotWord,method:"GET"};this.httpRequest(r).then((function(e){t.setStorageSync("hotWord",JSON.parse(e.data).data)}));var i={url:this.apis().hotNewShop,method:"GET"};this.httpRequest(i).then((function(e){t.setStorageSync("hotNewShop",JSON.parse(e.data).data)}))}},globalData:{firstLaunch:!0,nickname:"未登录",token:"",debug:!1,mid:1}};e.default=c}).call(this,a("543d")["default"])},"0a88":function(t,e,a){"use strict";var n=a("411b"),o=a.n(n);o.a},"1aea":function(t,e,a){"use strict";a.r(e);var n=a("9a90");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("0a88");var r,i,s,u,c=a("f0c5"),l=Object(c["a"])(n["default"],r,i,!1,null,null,null,!1,s,u);e["default"]=l.exports},"411b":function(t,e,a){},"9a90":function(t,e,a){"use strict";a.r(e);var n=a("02b9"),o=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},c7d7:function(t,e,a){"use strict";(function(t){a("ff5b");var e=r(a("66fd")),n=r(a("1aea")),o=r(a("3ac5"));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){u(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}e.default.use(o.default),e.default.config.productionTip=!1,n.default.mpType="app";var c=new e.default(s({},n.default));t(c).$mount()}).call(this,a("543d")["createApp"])}},[["c7d7","common/runtime","common/vendor"]]]);